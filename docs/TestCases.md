# LexiVault 测试用例文档

## 1. 词库管理测试用例

### TC-1.1: 内置词库加载
**前置条件**：应用首次安装
**测试步骤**：
1. 启动应用
2. 进入词库页面
3. 检查内置词库列表

**预期结果**：
- 显示 CET-4 和 CET-6 词库
- 每个词库显示正确的单词数量
- 可以正常打开和浏览词库

### TC-1.2: 创建自定义词库
**前置条件**：已登录应用
**测试步骤**：
1. 点击"创建词库"按钮
2. 输入词库名称"商务英语"
3. 选择词库类型"商务"
4. 点击确认创建

**预期结果**：
- 成功创建新词库
- 词库列表中显示新创建的词库
- 词库初始为空

### TC-1.3: 单词搜索
**前置条件**：词库中已有单词
**测试步骤**：
1. 点击搜索框
2. 输入搜索关键词"app"
3. 查看搜索结果

**预期结果**：
- 显示包含"app"的单词列表
- 结果按相关度排序
- 高亮显示匹配部分

### TC-1.4: 批量导入导出
**前置条件**：已有词库
**测试步骤**：
1. 选择目标词库
2. 点击"导出"按钮
3. 选择导出格式（CSV/Excel）
4. 修改导出的文件
5. 使用"导入"功能导入修改后的文件

**预期结果**：
- 成功导出所有单词数据
- 导出文件格式正确
- 成功导入修改后的数据
- 正确处理重复单词

### TC-1.5: 数据备份恢复
**前置条件**：已使用一段时间的应用
**测试步骤**：
1. 进入设置页面
2. 点击"备份数据"
3. 选择备份位置
4. 清除应用数据
5. 恢复备份

**预期结果**：
- 成功创建备份文件
- 备份包含所有用户数据
- 完整恢复所有数据
- 保持用户设置不变

## 2. 记忆模式测试用例

### TC-2.1: 卡片翻转
**前置条件**：进入记忆模式
**测试步骤**：
1. 查看单词卡片正面
2. 点击卡片中央
3. 观察翻转动画
4. 查看卡片背面

**预期结果**：
- 卡片流畅翻转
- 正面显示单词
- 背面显示释义和例句
- 再次点击可翻回正面

### TC-2.2: 标记生词
**前置条件**：正在浏览单词卡片
**测试步骤**：
1. 查看未标记的单词卡片
2. 点击书签图标
3. 进入生词本查看

**预期结果**：
- 书签图标变为实心
- 单词成功加入生词本
- 生词本中可以找到该单词

### TC-2.3: 学习历史记录
**前置条件**：已完成多天学习
**测试步骤**：
1. 进入统计页面
2. 查看学习历史图表
3. 点击具体日期查看详情

**预期结果**：
- 显示每日学习时长
- 显示学习单词数量
- 正确计算完成率
- 可查看具体学习记录

## 3. 测试模式测试用例

### TC-3.1: 选择题测试
**前置条件**：进入测试模式
**测试步骤**：
1. 选择"选择题"模式
2. 查看题目和选项
3. 选择一个答案
4. 提交答案

**预期结果**：
- 显示正确的题目和4个选项
- 选中选项有视觉反馈
- 立即显示答案正误
- 显示正确答案解释

### TC-3.2: 拼写测试
**前置条件**：进入测试模式
**测试步骤**：
1. 选择"拼写"模式
2. 查看中文释义
3. 输入单词拼写
4. 提交答案

**预期结果**：
- 清晰显示中文释义
- 可以正常输入英文
- 正确处理大小写
- 显示拼写对错

### TC-3.3: 自适应难度
**前置条件**：完成多次测试
**测试步骤**：
1. 查看当前难度等级
2. 连续答对多道题
3. 观察难度变化
4. 手动调整难度

**预期结果**：
- 难度自动提升
- 显示当前难度等级
- 手动调整生效
- 难度变化合理

## 4. 复习提醒测试用例

### TC-4.1: 设置提醒时间
**前置条件**：进入设置页面
**测试步骤**：
1. 点击"提醒设置"
2. 选择提醒时间"20:00"
3. 开启提醒开关
4. 保存设置

**预期结果**：
- 成功保存提醒时间
- 显示下次提醒时间
- 到时准时推送提醒

### TC-4.2: 智能复习提醒
**前置条件**：已学习某个单词
**测试步骤**：
1. 完成单词学习
2. 等待1天/3天/7天
3. 检查提醒触发

**预期结果**：
- 按计划发送提醒
- 提醒内容包含待复习单词
- 点击提醒可直接进入复习

## 5. AI功能测试用例

### TC-5.1: 生成联想记忆
**前置条件**：查看单词详情
**测试步骤**：
1. 点击"AI联想"按钮
2. 等待生成结果
3. 查看联想内容

**预期结果**：
- 2秒内返回结果
- 联想内容与单词相关
- 记忆方法实用有趣

### TC-5.2: 生成例句
**前置条件**：查看单词详情
**测试步骤**：
1. 点击"生成例句"按钮
2. 等待生成结果
3. 查看例句

**预期结果**：
- 2秒内返回结果
- 例句语法正确
- 例句简单实用

### TC-5.3: 智能推荐
**前置条件**：已学习一些单词
**测试步骤**：
1. 进入推荐页面
2. 查看推荐单词列表
3. 选择学习推荐单词

**预期结果**：
- 推荐5个相关单词
- 难度适中
- 显示推荐理由

### TC-5.4: API异常处理
**前置条件**：使用AI功能
**测试步骤**：
1. 启用飞行模式
2. 尝试使用AI功能
3. 恢复网络连接
4. 重试AI功能

**预期结果**：
- 显示离线提示
- 提供离线替代功能
- 自动重试连接
- 恢复正常功能

### TC-5.5: 资源监控
**前置条件**：正常运行应用
**测试步骤**：
1. 启动性能监控
2. 连续使用AI功能
3. 检查资源占用
4. 后台运行观察

**预期结果**：
- CPU使用率<30%
- 内存使用<200MB
- 电池消耗正常
- 无明显卡顿

## 6. 性能测试用例

### TC-6.1: 应用启动时间
**测试步骤**：
1. 完全关闭应用
2. 启动应用
3. 记录启动时间

**预期结果**：
- 冷启动 < 3秒
- 热启动 < 1秒
- 启动过程流畅

### TC-6.2: 内存占用
**测试步骤**：
1. 启动应用
2. 正常使用10分钟
3. 检查内存占用

**预期结果**：
- 初始内存 < 100MB
- 使用中 < 200MB
- 无内存泄漏

## 7. 兼容性测试用例

### TC-7.1: Android版本兼容性
**测试环境**：
- Android 8.0
- Android 10.0
- Android 12.0
- Android 14.0

**测试步骤**：
1. 安装应用
2. 执行基本功能
3. 检查UI显示

**预期结果**：
- 所有版本正常安装
- 功能正常运行
- UI正确显示

### TC-7.2: 屏幕适配
**测试环境**：
- 小屏手机（5寸）
- 中屏手机（6寸）
- 大屏手机（7寸）
- 平板（10寸）

**测试步骤**：
1. 安装应用
2. 检查各页面显示
3. 测试交互操作

**预期结果**：
- UI自适应调整
- 内容完整显示
- 操作无障碍

## 8. 单元测试用例

### TC-8.1: WordRepository 单词操作测试
**测试目标**：验证 WordRepository 的基本 CRUD 操作
**测试步骤**：
1. 创建测试用例类和 Mock 对象
2. 测试插入单词操作
   - 插入单个单词
   - 插入单词列表
3. 测试查询单词操作
   - 按ID查询
   - 查询所有单词
4. 测试更新单词操作
5. 测试删除单词操作

**预期结果**：
- 所有 CRUD 操作正确执行
- 数据正确保存和检索
- 异常情况被正确处理

### TC-8.2: AIRepository AI功能测试
**测试目标**：验证 AI 相关功能的正确性
**测试步骤**：
1. 设置 Mock OpenAI Service
2. 测试记忆技巧生成
   - 正常情况测试
   - 网络错误测试
   - 响应超时测试
3. 测试单词解释生成
4. 测试错误处理

**预期结果**：
- AI 功能正常响应
- 错误被正确捕获和处理
- 返回数据格式正确

### TC-8.3: HomeViewModel 状态管理测试
**测试目标**：验证 ViewModel 的状态管理
**测试步骤**：
1. 创建 ViewModel 实例
2. 测试初始状态
3. 测试加载状态变化
4. 测试错误状态处理
5. 测试数据更新

**预期结果**：
- 状态正确转换
- UI 状态及时更新
- 错误状态正确显示

### TC-8.4 词库功能测试用例
| 用例ID | 测试内容 | 测试步骤 | 预期结果 |
|--------|----------|----------|-----------|
| TC-8.4.1 | 内置词库导入 | 1. 进入词库页面<br>2. 点击导入词库<br>3. 选择CET4词库<br>4. 确认导入 | 1. 成功导入约4000个单词<br>2. 词库列表显示导入的单词 |
| TC-8.4.2 | 词库分类管理 | 1. 进入分类管理<br>2. 添加新分类<br>3. 编辑分类<br>4. 删除分类 | 1. 分类成功添加<br>2. 分类名称成功更新<br>3. 分类成功删除 |
| TC-8.4.3 | 学习进度统计 | 1. 进入统计页面<br>2. 查看各项统计数据 | 1. 显示总学习量<br>2. 显示每日学习量<br>3. 显示学习连续天数 |
| TC-8.4.4 | 每日学习记录 | 1. 完成一定量的单词学习<br>2. 查看今日学习记录 | 1. 正确记录学习数量<br>2. 更新每日统计数据 |

### TC-8.5 AI功能测试用例
| 用例ID | 测试内容 | 测试步骤 | 预期结果 |
|--------|----------|----------|-----------|
| TC-8.5.1 | AI单词联想记忆 | 1. 进入单词详情<br>2. 点击AI记忆法 | 1. 生成联想记忆提示<br>2. 提示内容合理且有助记忆 |
| TC-8.5.2 | AI例句生成 | 1. 进入单词详情<br>2. 点击生成例句 | 1. 生成相关例句<br>2. 例句正确使用目标单词 |
| TC-8.5.3 | 智能单词推荐 | 1. 进入推荐页面<br>2. 查看推荐单词列表 | 1. 显示推荐单词列表<br>2. 推荐内容符合学习进度 |
| TC-8.5.4 | AI错误处理 | 1. 在网络异常情况下请求AI功能<br>2. 观察错误提示 | 1. 显示友好的错误提示<br>2. 提供重试选项 |

### TC-8.6 提醒功能测试用例
| 用例ID | 测试内容 | 测试步骤 | 预期结果 |
|--------|----------|----------|-----------|
| TC-8.6.1 | 每日提醒设置 | 1. 进入设置页面<br>2. 设置提醒时间<br>3. 启用提醒 | 1. 成功保存提醒设置<br>2. 在设定时间发送通知 |
| TC-8.6.2 | 智能复习计划 | 1. 查看复习计划页面<br>2. 检查不同时间间隔的复习任务 | 1. 显示1天、3天、7天的复习任务<br>2. 任务数量正确 |
| TC-8.6.3 | 自定义复习计划 | 1. 进入复习计划设置<br>2. 修改复习间隔<br>3. 保存设置 | 1. 成功更新复习间隔<br>2. 新计划立即生效 |

## 9. 集成测试用例

### TC-9.1: 词库与AI助手集成测试
**测试目标**：验证词库管理与AI助手的协同工作
**测试步骤**：
1. 添加新单词到词库
2. 使用AI生成记忆技巧
3. 保存记忆技巧
4. 查看单词详情

**预期结果**：
- 单词成功保存
- AI 生成内容正确关联
- 数据同步正常

### TC-9.2: 学习进度追踪集成测试
**测试目标**：验证学习记录与统计功能
**测试步骤**：
1. 完成单词学习
2. 更新学习记录
3. 检查统计数据
4. 验证进度显示

**预期结果**：
- 学习记录正确保存
- 统计数据准确更新
- 进度显示正确

### TC-9.3: 提醒系统集成测试
**测试目标**：验证提醒功能的完整流程
**测试步骤**：
1. 设置学习提醒
2. 等待提醒触发
3. 验证通知发送
4. 测试通知响应

**预期结果**：
- 提醒准时触发
- 通知正确显示
- 点击响应正常

## 10. UI测试用例

### TC-10.1: 单词卡片组件测试
**测试目标**：验证单词卡片的交互功能
**测试步骤**：
1. 创建测试场景
2. 测试卡片点击
3. 测试翻转动画
4. 测试滑动操作
5. 测试书签功能

**预期结果**：
- 交互响应流畅
- 动画效果正常
- 状态正确保存

### TC-10.2: 导航功能测试
**测试目标**：验证应用内导航
**测试步骤**：
1. 测试底部导航栏
2. 测试页面切换
3. 测试返回操作
4. 测试深层链接

**预期结果**：
- 导航正确执行
- 页面切换流畅
- 状态正确保持

### TC-10.3: 响应式布局测试
**测试目标**：验证不同设备适配
**测试步骤**：
1. 测试手机布局
2. 测试平板布局
3. 测试横竖屏切换
4. 测试深色模式

**预期结果**：
- 布局正确适配
- 内容正确显示
- 主题切换正常
