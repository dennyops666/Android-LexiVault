# LexiVault 测试计划文档

## 1. 测试目标

确保 LexiVault 英语学习应用的所有核心功能正常运行，用户体验流畅，数据存储可靠。

## 2. 测试范围

### 2.1 词库管理功能测试
#### 2.1.1 内置词库
- [ ] 验证 CET-4 词库完整性
  - 检查词库是否成功加载
  - 验证单词数量是否正确
  - 抽样检查单词信息完整性（单词、释义、音标）

- [ ] 验证 CET-6 词库完整性
  - 检查词库是否成功加载
  - 验证单词数量是否正确
  - 抽样检查单词信息完整性

#### 2.1.2 自定义词库
- [ ] 创建词库
  - 创建空词库
  - 创建带初始单词的词库
  - 验证重名处理

- [ ] 编辑词库
  - 添加单个单词
  - 批量导入单词
  - 编辑已有单词信息
  - 删除单词

- [ ] 删除词库
  - 删除空词库
  - 删除非空词库
  - 验证关联数据清理

#### 2.1.3 词库分类
- [ ] 词性分类
  - 验证动词分类
  - 验证名词分类
  - 验证形容词分类
  - 验证其他词性分类

- [ ] 用途分类
  - 验证考试类别（四级、六级等）
  - 验证主题类别（商务、日常等）

#### 2.1.4 搜索功能
- [ ] 精确搜索
  - 按单词搜索
  - 按释义搜索
  - 验证大小写敏感性

- [ ] 模糊搜索
  - 部分匹配搜索
  - 首字母搜索
  - 验证搜索结果排序

#### 2.1.5 数据管理
- [ ] 批量操作
  - 批量导入单词
  - 批量导出单词
  - 验证数据格式正确性

- [ ] 数据同步
  - 本地到云端同步
  - 云端到本地同步
  - 冲突解决处理

- [ ] 数据备份
  - 手动备份
  - 自动备份
  - 备份恢复

### 2.2 记忆模式测试
#### 2.2.1 卡片式记忆
- [ ] 翻转功能
  - 正面到背面翻转
  - 背面到正面翻转
  - 验证动画流畅性

- [ ] 滑动功能
  - 左滑下一个
  - 右滑上一个
  - 验证边界情况

#### 2.2.2 生词本
- [ ] 标记功能
  - 标记生词
  - 取消标记
  - 验证状态持久化

- [ ] 管理功能
  - 查看所有生词
  - 删除生词
  - 验证生词排序

#### 2.2.3 学习进度
- [ ] 进度记录
  - 验证学习数量统计
  - 验证复习次数统计
  - 检查时间戳记录

- [ ] 进度展示
  - 日进度展示
  - 周进度展示
  - 月进度展示

#### 2.2.4 学习历史
- [ ] 历史记录
  - 每日学习记录
  - 学习时长统计
  - 学习效果分析

- [ ] 学习模式
  - 模式切换测试
  - 个性化设置保存
  - 设置恢复默认

### 2.3 测试模式测试
#### 2.3.1 选择题测试
- [ ] 题目生成
  - 验证选项随机性
  - 验证答案正确性
  - 检查选项数量

- [ ] 答题流程
  - 选择答案
  - 提交答案
  - 显示正误
  - 下一题切换

#### 2.3.2 拼写测试
- [ ] 答题功能
  - 输入单词
  - 大小写处理
  - 空格处理
  - 特殊字符处理

- [ ] 反馈功能
  - 正确提示
  - 错误提示
  - 正确答案显示

#### 2.3.3 错题本
- [ ] 记录功能
  - 自动记录错题
  - 错题分类存储
  - 错题统计

- [ ] 复习功能
  - 错题重复练习
  - 错题清除
  - 进度追踪

#### 2.3.4 测试统计
- [ ] 成绩统计
  - 单次测试统计
  - 阶段性统计
  - 长期进步分析

- [ ] 难度调整
  - 自动难度调整
  - 手动难度设置
  - 难度梯度验证

### 2.4 复习提醒测试
#### 2.4.1 每日提醒
- [ ] 时间设置
  - 设置提醒时间
  - 修改提醒时间
  - 验证时间格式

- [ ] 提醒控制
  - 开启提醒
  - 关闭提醒
  - 临时静音

#### 2.4.2 智能复习
- [ ] 间隔提醒
  - 1天后提醒
  - 3天后提醒
  - 7天后提醒

- [ ] 提醒执行
  - 准时提醒
  - 重复控制
  - 提醒优先级

### 2.5 AI功能测试
#### 2.5.1 联想记忆
- [ ] 生成测试
  - 验证生成速度
  - 验证内容相关性
  - 检查中文输出

- [ ] 内容质量
  - 联想合理性
  - 记忆实用性
  - 长度适中性

#### 2.5.2 例句生成
- [ ] 生成测试
  - 验证生成速度
  - 验证语法正确性
  - 检查单词用法

- [ ] 例句质量
  - 句子通俗性
  - 长度适中性
  - 实用性验证

#### 2.5.3 单词推荐
- [ ] 推荐算法
  - 验证相关性
  - 验证难度适中
  - 检查推荐数量

- [ ] 推荐质量
  - 词汇实用性
  - 学习连贯性
  - 个性化程度

#### 2.5.4 异常处理
- [ ] API 异常
  - 网络超时处理
  - 错误响应处理
  - 重试机制验证

- [ ] 离线模式
  - 离线功能降级
  - 本地缓存使用
  - 恢复在线状态

- [ ] 资源占用
  - CPU 使用监控
  - 内存使用监控
  - 电池消耗监控

### 4.4 词库功能测试
- **测试目标**：验证词库管理相关功能的正确性和可用性
- **测试范围**：
  - 内置词库导入功能
  - 词库分类管理
  - 学习进度统计
  - 每日学习记录
- **测试策略**：
  - 使用 UI 自动化测试验证用户界面交互
  - 使用单元测试验证数据处理逻辑
  - 使用集成测试验证与数据库的交互
- **测试工具**：
  - JUnit
  - Compose UI Test
  - Room Testing

### 4.5 AI功能测试
- **测试目标**：验证AI相关功能的正确性和稳定性
- **测试范围**：
  - AI单词联想记忆生成
  - AI例句生成
  - 智能单词推荐
  - AI错误处理机制
- **测试策略**：
  - 使用 Mock 对象模拟 OpenAI API 响应
  - 测试网络异常情况下的错误处理
  - 验证 AI 响应的缓存机制
- **测试工具**：
  - Mockk
  - OkHttp MockWebServer
  - JUnit

### 4.6 提醒功能测试
- **测试目标**：验证提醒系统的可靠性和准确性
- **测试范围**：
  - 每日提醒设置
  - 智能复习计划
  - 自定义复习计划
- **测试策略**：
  - 使用系统时间模拟进行提醒触发测试
  - 验证提醒的准确性和可靠性
  - 测试自定义设置的保存和加载
- **测试工具**：
  - Android WorkManager Testing
  - JUnit
  - AndroidX Test

## 3. 测试环境

### 3.1 硬件要求
- 最低配置 Android 设备
- 中等配置 Android 设备
- 高配置 Android 设备

### 3.2 软件要求
- Android 版本: 8.0 - 14.0
- 屏幕分辨率: 各种主流分辨率
- 网络环境: WiFi、4G、5G

### 3.3 测试工具
- Android Studio
- UI Automator
- JUnit
- Espresso
- Charles（网络监控）

## 4. 测试方法

### 4.1 单元测试
#### 4.1.1 Repository层测试
- WordRepository测试
  - CRUD操作测试
  - 查询功能测试
  - 数据转换测试
  - 异常处理测试
- AIRepository测试
  - API调用测试
  - 错误处理测试
  - 响应解析测试
- ReminderRepository测试
  - 提醒逻辑测试
  - 定时任务测试
  - 通知触发测试

#### 4.1.2 ViewModel层测试
- HomeViewModel测试
  - 状态管理测试
  - 用户操作响应测试
  - 数据加载测试
- WordBookViewModel测试
  - 单词操作测试
  - 分页加载测试
  - 搜索功能测试
- AIAssistViewModel测试
  - AI功能调用测试
  - 加载状态测试
  - 错误处理测试

#### 4.1.3 工具类测试
- SecureStorage测试
  - 数据加密测试
  - 密钥管理测试
- NotificationHelper测试
  - 通知创建测试
  - 通知更新测试
- DatabaseHelper测试
  - 数据库迁移测试
  - 索引性能测试

### 4.2 集成测试
#### 4.2.1 组件集成测试
- Repository与数据库集成测试
  - 数据一致性测试
  - 事务处理测试
  - 并发操作测试
- ViewModel与Repository集成测试
  - 数据流测试
  - 状态同步测试
  - 错误传播测试
- Worker与Repository集成测试
  - 后台任务测试
  - 数据同步测试
  - 定时操作测试

#### 4.2.2 功能集成测试
- 单词学习流程测试
  - 添加单词到复习
  - 完成复习任务
  - 更新学习进度
- AI辅助记忆流程测试
  - 生成记忆技巧
  - 应用记忆方法
  - 效果追踪
- 数据同步流程测试
  - 本地到云端同步
  - 云端到本地同步
  - 冲突解决

### 4.3 UI测试
#### 4.3.1 Compose组件测试
- 基础组件测试
  - 按钮交互测试
  - 输入框验证测试
  - 列表滚动测试
- 自定义组件测试
  - 单词卡片测试
  - 进度图表测试
  - 复习界面测试
- 动画效果测试
  - 转场动画测试
  - 加载动画测试
  - 反馈动画测试

#### 4.3.2 页面导航测试
- 主要导航流程测试
  - 底部导航测试
  - 页面切换测试
  - 返回栈测试
- 深层链接测试
  - 通知跳转测试
  - 分享链接测试
  - 外部调用测试

#### 4.3.3 响应式布局测试
- 不同屏幕尺寸测试
  - 手机布局测试
  - 平板布局测试
  - 横竖屏切换测试
- 主题适配测试
  - 浅色主题测试
  - 深色主题测试
  - 动态颜色测试

## 5. 测试进度安排

### 5.1 第一阶段（3天）
- 单元测试编写和执行
- 基础功能测试
- Bug修复和回归测试

### 5.2 第二阶段（2天）
- UI测试
- 用户体验测试
- 界面优化

### 5.3 第三阶段（2天）
- 性能测试
- 压力测试
- 优化和调整

### 5.4 第四阶段（3天）
- 兼容性测试
- 集成测试
- 系统测试

## 6. 风险评估

### 6.1 技术风险
- OpenAI API 稳定性
- 本地数据库性能
- 内存占用问题

### 6.2 功能风险
- 提醒功能可靠性
- AI 生成内容质量
- 数据同步一致性

### 6.3 用户体验风险
- 操作流程复杂性
- 响应时间过长
- 界面不够直观

## 7. 缺陷跟踪

### 7.1 缺陷分级
- P0：阻塞性问题
- P1：严重问题
- P2：普通问题
- P3：轻微问题

### 7.2 缺陷处理流程
1. 发现缺陷
2. 记录缺陷
3. 分配处理
4. 修复验证
5. 关闭缺陷

## 8. 测试报告

### 8.1 报告内容
- 测试概述
- 测试结果统计
- 问题分布分析
- 改进建议

### 8.2 报告周期
- 日报：每日测试进展
- 周报：每周测试总结
- 最终报告：完整测试报告

## 9. 验收标准

### 9.1 功能验收标准
- 所有核心功能正常运行
- 无严重缺陷
- 用户体验流畅

### 9.2 性能验收标准
- 启动时间 < 3秒
- 内存占用 < 200MB
- API响应时间 < 2秒

### 9.3 质量验收标准
- 崩溃率 < 0.1%
- ANR率 < 0.01%
- 电池消耗正常

## 10. 测试记录表

### 10.1 功能测试记录

| 测试日期 | 测试功能 | 测试用例 | 预期结果 | 实际结果 | 测试状态 | 测试人员 | 备注 |
|---------|---------|---------|---------|---------|---------|---------|------|
|         |         |         |         |         |         |         |      |

### 10.2 性能测试记录

| 测试日期 | 测试项目 | 测试环境 | 测试数据 | 测试结果 | 是否达标 | 测试人员 | 备注 |
|---------|---------|---------|---------|---------|---------|---------|------|
|         |         |         |         |         |         |         |      |

### 10.3 兼容性测试记录

| 测试日期 | 设备型号 | Android版本 | 测试功能 | 测试结果 | 问题描述 | 测试人员 | 备注 |
|---------|---------|------------|---------|---------|---------|---------|------|
|         |         |            |         |         |         |         |      |

### 10.4 缺陷跟踪记录

| 缺陷ID | 发现日期 | 缺陷描述 | 严重程度 | 优先级 | 状态 | 修复日期 | 验证结果 | 备注 |
|--------|---------|---------|---------|--------|------|---------|---------|------|
|        |         |         |         |        |      |         |         |      |

### 10.5 测试进度记录

| 日期 | 计划任务 | 完成情况 | 未完成原因 | 解决方案 | 风险评估 | 负责人 | 备注 |
|------|---------|---------|------------|---------|---------|--------|------|
|      |         |         |            |         |         |        |      |

### 5.4 性能测试指标
- **响应时间**：
  - 单词列表滚动帧率 ≥ 60fps
  - AI功能响应时间 ≤ 3秒
  - 数据库操作响应时间 ≤ 100ms
- **内存使用**：
  - 正常使用内存占用 ≤ 200MB
  - 无内存泄漏
- **启动时间**：
  - 冷启动时间 ≤ 2秒
  - 热启动时间 ≤ 1秒
- **电池消耗**：
  - 后台运行每小时电量消耗 ≤ 1%
